---
title: "Heat Assignment"
author: "Nikole Vannest"
date: '2022-03-07'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Load in packages, functions and data

```{r load data}
library(tidyverse)
library(here)

source(here("R", "heat_stress.R"))
tmax <- read.table(here("data", "tmax.txt"), header = T)
```

### Create precipitation and age data
```{r ppt and age}
# Create age data
a <- 1:3
age <- sample(a, size = nrow(tmax), replace = T)

# Create precipitation data
b <- 50:700
ppt <- sample(b, size = nrow(tmax), replace = T)

# Reduce number of decimal places in tmax
tmax$tmax <- round(tmax$tmax, 1)

# Put into data frame
trees <- cbind(tmax, age, ppt)
```


### Run function with data and loop

```{r run function}
# Randomly pick a date from the data
i <- sample(1:nrow(trees), size = 1)

growth(trees$date[i], trees$age[i], trees$ppt[i], trees$tmax[i])
```

